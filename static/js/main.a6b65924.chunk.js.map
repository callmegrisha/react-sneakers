{"version":3,"sources":["components/Drawer/Drawer.module.scss","components/Сard/Card.module.scss","context.jsx","hooks/useCart.jsx","components/Header.jsx","components/Info.jsx","components/Drawer/index.jsx","components/Сard/index.jsx","pages/Home.jsx","pages/Favorites.jsx","pages/Orders.jsx","App.js","index.js"],"names":["module","exports","AppContext","React","createContext","useCart","useContext","cartItems","setCartItems","totalPrice","reduce","sum","obj","price","Header","props","className","to","width","height","src","alt","onClick","onClickCart","Info","image","title","description","setCartOpened","delay","ms","Promise","resolve","setTimeout","Drawer","onClose","onRemove","items","opened","useState","isOrderComplete","setIsOrderComplete","isLoading","setIsLoading","orderId","setOrderId","onClickOrder","a","axios","post","data","id","i","length","item","delete","alert","styles","overlay","overlayVisible","drawer","map","style","backgroundImage","imgUrl","type","disabled","Card","onFavorite","parentId","onPlus","favorited","loading","isItemAdded","isFavorite","setIsFavorite","card","speed","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","plus","Home","searchValue","setSearchValue","onChangeSearchInput","onAddToFavorite","onAddToCart","placeholder","value","onChange","filteredItems","filter","toLowerCase","includes","Array","index","renderItems","Favorites","favorites","key","Orders","orders","setOrders","useEffect","get","prev","console","error","App","setItems","setFavorites","cartOpened","all","cartResponse","favoritesResponse","itemsResponse","fetchData","findItem","find","Number","favObj","Provider","some","path","exact","event","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a6b65924.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Drawer_overlay__ZB98X\",\"overlayVisible\":\"Drawer_overlayVisible__1tvlX\",\"drawer\":\"Drawer_drawer__1v_J5\",\"items\":\"Drawer_items__1Rlxm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__26Y-v\",\"favorite\":\"Card_favorite__c7fOa\",\"plus\":\"Card_plus__1Ck0Z\"};","import React from 'react';\r\n\r\nconst AppContext = React.createContext({});\r\n\r\nexport default AppContext;\r\n","import React from 'react';\r\nimport AppContext from '../context';\r\n\r\nexport const useCart = () => {\r\n  const { cartItems, setCartItems } = React.useContext(AppContext);\r\n  const totalPrice = cartItems.reduce((sum, obj) => sum + obj.price, 0);\r\n\r\n  return { cartItems, setCartItems, totalPrice };\r\n};\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useCart } from '../hooks/useCart';\r\n\r\nfunction Header(props) {\r\n  const { totalPrice } = useCart();\r\n\r\n  return (\r\n    <header className=\"d-flex justify-between align-center p-45\">\r\n      <Link to=\"/\">\r\n        <div className=\"headerLeft d-flex align-center\">\r\n          <img width={40} height={40} src=\"img/logo.png\" alt=\"\" />\r\n          <div className=\"headerInfo\">\r\n            <h3 className=\"text-uppercase\">React Sneakers</h3>\r\n            <span>Магазин лучших кроссовок</span>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n      <ul className=\"headerRight d-flex align-center\">\r\n        <li\r\n          className=\"mr-30 d-flex align-center cu-p\"\r\n          onClick={props.onClickCart}\r\n        >\r\n          <img src=\"img/cart.svg\" alt=\"Корзина\" />\r\n          <span>{totalPrice} руб.</span>\r\n        </li>\r\n        <li className=\"mr-30\">\r\n          <Link to=\"/favorites\">\r\n            <img width={18} height={18} src=\"img/favorite.svg\" alt=\"Закладки\" />\r\n          </Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/orders\">\r\n            <img src=\"img/user.svg\" alt=\"Пользователь\" />\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport AppContext from '../context';\r\n\r\nfunction Info({ image, title, description }) {\r\n  const { setCartOpened } = React.useContext(AppContext);\r\n\r\n  return (\r\n    <div className=\"cartEmpty d-flex align-center justify-center flex-column flex\">\r\n      <img className=\"mb-20\" width=\"120\" height=\"120\" src={image} alt=\"Empty\" />\r\n      <h2>{title}</h2>\r\n      <p className=\"opacity-6\">{description}</p>\r\n      <button className=\"greenButton\" onClick={() => setCartOpened(false)}>\r\n        <img src=\"img/arrow.svg\" alt=\"Arrow\" />\r\n        Вернуться назад\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Info;\r\n","import React from 'react';\r\nimport axios from 'axios';\r\n\r\nimport Info from '../Info';\r\nimport { useCart } from '../../hooks/useCart';\r\n\r\nimport styles from './Drawer.module.scss';\r\n\r\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\r\n\r\nfunction Drawer({ onClose, onRemove, items = [], opened }) {\r\n  const { cartItems, setCartItems, totalPrice } = useCart();\r\n  const [isOrderComplete, setIsOrderComplete] = React.useState(false);\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n  const [orderId, setOrderId] = React.useState(null);\r\n\r\n  const onClickOrder = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const { data } = await axios.post(\r\n        'https://613a4e511fcce10017e78e42.mockapi.io/order',\r\n        {\r\n          items: cartItems,\r\n        }\r\n      );\r\n      setOrderId(data.id);\r\n      setIsOrderComplete(true);\r\n      setCartItems([]);\r\n\r\n      // это костыль, т.к. в мокапи нет риплейса и нужно удалять каждый пост отдельно\r\n      for (let i = 0; i < cartItems.length; i++) {\r\n        const item = cartItems[i];\r\n        await axios.delete(\r\n          'https://613a4e511fcce10017e78e42.mockapi.io/cart/' + item.id\r\n        );\r\n        await delay(1000);\r\n      }\r\n    } catch (error) {\r\n      alert('Не удалось создать заказ');\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className={`${styles.overlay} ${opened ? styles.overlayVisible : ''}`}>\r\n      <div className={styles.drawer}>\r\n        <h2 className=\"d-flex justify-between mb-30\">\r\n          Корзина\r\n          <img\r\n            className=\"cu-p\"\r\n            src=\"img/btn-remove.svg\"\r\n            alt=\"Close\"\r\n            onClick={onClose}\r\n          />\r\n        </h2>\r\n\r\n        {items.length > 0 ? (\r\n          <>\r\n            <div className=\"items\">\r\n              {items.map((obj) => (\r\n                <article\r\n                  className=\"cartItem d-flex align-center mb-20\"\r\n                  key={obj.id}\r\n                >\r\n                  <div\r\n                    style={{ backgroundImage: `url(${obj.imgUrl})` }}\r\n                    className=\"cartItemImg\"\r\n                  ></div>\r\n                  <div className=\"mr-20 flex\">\r\n                    <span className=\"mb-5\">{obj.title}</span>\r\n                    <b>{obj.price} руб.</b>\r\n                  </div>\r\n                  <img\r\n                    className=\"removeBtn\"\r\n                    src=\"img/btn-remove.svg\"\r\n                    alt=\"Remove\"\r\n                    onClick={() => onRemove(obj.id)}\r\n                  />\r\n                </article>\r\n              ))}\r\n            </div>\r\n            <div className=\"cartTotalBlock\">\r\n              <ul>\r\n                <li className=\"d-flex\">\r\n                  <span>Итого:</span>\r\n                  <div></div>\r\n                  <b>{totalPrice} руб.</b>\r\n                </li>\r\n                <li className=\"d-flex\">\r\n                  <span>Налог 5%:</span>\r\n                  <div></div>\r\n                  <b>{(totalPrice / 100) * 5} руб.</b>\r\n                </li>\r\n              </ul>\r\n              <button\r\n                className=\"greenButton\"\r\n                type=\"button\"\r\n                disabled={isLoading}\r\n                onClick={onClickOrder}\r\n              >\r\n                Оформить заказ{' '}\r\n                <img src=\"img/arrow-right.svg\" alt=\"Arrow Right\" />\r\n              </button>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <Info\r\n            image={\r\n              isOrderComplete ? 'img/completed-order.png' : 'img/empty-cart.png'\r\n            }\r\n            title={isOrderComplete ? 'Заказ оформлен!' : 'Корзина пустая'}\r\n            description={\r\n              isOrderComplete\r\n                ? `Ваш заказ #${orderId} скоро будет передан курьерской доставке`\r\n                : 'Добавьте хотя бы одну пару кроссовок, чтобы сделать заказ.'\r\n            }\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Drawer;\r\n","import React from 'react';\r\nimport ContentLoader from 'react-content-loader';\r\nimport AppContext from '../../context';\r\n\r\nimport styles from './Card.module.scss';\r\n\r\nfunction Card({\r\n  id,\r\n  parentId,\r\n  onFavorite,\r\n  imgUrl,\r\n  title,\r\n  price,\r\n  onPlus,\r\n  favorited = false,\r\n  loading = false,\r\n}) {\r\n  const { isItemAdded } = React.useContext(AppContext);\r\n  const [isFavorite, setIsFavorite] = React.useState(favorited);\r\n  const obj = { id, parentId: id, imgUrl, title, price };\r\n\r\n  const onClickPlus = () => {\r\n    onPlus(obj);\r\n  };\r\n\r\n  const onClickFavorite = () => {\r\n    onFavorite(obj);\r\n    setIsFavorite(!isFavorite);\r\n  };\r\n\r\n  return (\r\n    <article className={styles.card}>\r\n      {loading ? (\r\n        <ContentLoader\r\n          speed={2}\r\n          width={150}\r\n          height={188}\r\n          viewBox=\"0 0 150 188\"\r\n          backgroundColor=\"#f3f3f3\"\r\n          foregroundColor=\"#ecebeb\"\r\n          // {...props}\r\n        >\r\n          <rect x=\"0\" y=\"0\" rx=\"10\" ry=\"10\" width=\"150\" height=\"90\" />\r\n          <rect x=\"389\" y=\"73\" rx=\"0\" ry=\"0\" width=\"0\" height=\"1\" />\r\n          <rect x=\"0\" y=\"126\" rx=\"3\" ry=\"3\" width=\"93\" height=\"15\" />\r\n          <rect x=\"0\" y=\"107\" rx=\"3\" ry=\"3\" width=\"150\" height=\"15\" />\r\n          <rect x=\"0\" y=\"163\" rx=\"8\" ry=\"8\" width=\"80\" height=\"24\" />\r\n          <rect x=\"118\" y=\"155\" rx=\"8\" ry=\"8\" width=\"32\" height=\"32\" />\r\n        </ContentLoader>\r\n      ) : (\r\n        <>\r\n          {onFavorite && (\r\n            <div className=\"favorite\" onClick={onClickFavorite}>\r\n              <img\r\n                src={\r\n                  isFavorite ? 'img/heart-liked.svg' : 'img/heart-unliked.svg'\r\n                }\r\n                alt=\"Unlicked\"\r\n              />\r\n            </div>\r\n          )}\r\n          <img width={133} height={112} src={imgUrl} alt=\"Sneakers\" />\r\n          <h3>{title}</h3>\r\n          <div className=\"d-flex justify-between align-center\">\r\n            <div className=\"d-flex flex-column\">\r\n              <span>Цена: </span>\r\n              <b>{price} руб.</b>\r\n            </div>\r\n            {onPlus && (\r\n              <img\r\n                className={styles.plus}\r\n                src={\r\n                  isItemAdded(id) ? 'img/btn-checked.svg' : 'img/btn-plus.svg'\r\n                }\r\n                alt=\"Plus\"\r\n                aria-label=\"Add sneaker\"\r\n                onClick={onClickPlus}\r\n              />\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport Card from '../components/Сard';\r\n\r\nfunction Home({\r\n  items,\r\n  searchValue,\r\n  setSearchValue,\r\n  onChangeSearchInput,\r\n  onAddToFavorite,\r\n  onAddToCart,\r\n  isLoading,\r\n}) {\r\n  const renderItems = () => {\r\n    const filteredItems = items.filter((item) =>\r\n      item.title.toLowerCase().includes(searchValue.toLowerCase())\r\n    );\r\n\r\n    return (isLoading ? [...Array(10)] : filteredItems).map((item, index) => (\r\n      <Card\r\n        key={index}\r\n        onFavorite={(obj) => onAddToFavorite(obj)}\r\n        onPlus={(obj) => onAddToCart(obj)}\r\n        loading={isLoading}\r\n        {...item}\r\n      />\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div className=\"content p-45\">\r\n      <div className=\"d-flex align-center justify-between mb-40\">\r\n        <h1>\r\n          {searchValue ? `Поиск по запросу: \"${searchValue}\"` : 'Все кроссовки'}\r\n        </h1>\r\n        <div className=\"search-block d-flex\">\r\n          <img src=\"img/search.svg\" alt=\"Search\" />\r\n          <input\r\n            type=\"search\"\r\n            placeholder=\"Поиск...\"\r\n            value={searchValue}\r\n            onChange={onChangeSearchInput}\r\n          />\r\n          {searchValue && (\r\n            <img\r\n              className=\"search-block-clear\"\r\n              src=\"img/close.svg\"\r\n              alt=\"Clear\"\r\n              onClick={() => {\r\n                setSearchValue('');\r\n              }}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"d-flex flex-wrap align-center justify-between\">\r\n        {renderItems()}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport Card from '../components/Сard';\r\nimport AppContext from '../context';\r\n\r\nfunction Favorites() {\r\n  const { favorites, onAddToFavorite } = React.useContext(AppContext);\r\n\r\n  return (\r\n    <div className=\"content p-45\">\r\n      <div className=\"d-flex align-center justify-between mb-40\">\r\n        <h1>Мои закладки</h1>\r\n      </div>\r\n      <div className=\"d-flex flex-wrap align-center justify-between\">\r\n        {favorites.map((item, index) => (\r\n          <Card\r\n            {...item}\r\n            key={index}\r\n            favorited={true}\r\n            onFavorite={onAddToFavorite}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Favorites;\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport Card from '../components/Сard';\r\n\r\nfunction Orders() {\r\n  const [orders, setOrders] = React.useState([]);\r\n  const [isLoading, setIsLoading] = React.useState(true);\r\n\r\n  React.useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await axios.get(\r\n          'https://613a4e511fcce10017e78e42.mockapi.io/order'\r\n        );\r\n        setOrders(data.reduce((prev, obj) => [...prev, ...obj.items], []));\r\n        setIsLoading(false);\r\n      } catch (error) {\r\n        alert('Ошибка при запросе заказов');\r\n        console.error(error);\r\n      }\r\n    })();\r\n  }, []);\r\n  return (\r\n    <div className=\"content p-45\">\r\n      <div className=\"d-flex align-center justify-between mb-40\">\r\n        <h1>Мои заказы</h1>\r\n      </div>\r\n      <div className=\"d-flex flex-wrap align-center justify-between\">\r\n        {(isLoading ? [...Array(10)] : orders).map((item, index) => (\r\n          <Card key={index} loading={isLoading} {...item} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Orders;\r\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport axios from 'axios';\nimport Header from './components/Header';\nimport Drawer from './components/Drawer';\nimport AppContext from './context';\n\nimport Home from './pages/Home';\nimport Favorites from './pages/Favorites';\nimport Orders from './pages/Orders';\n\nfunction App() {\n  const [items, setItems] = React.useState([]);\n  const [cartItems, setCartItems] = React.useState([]);\n  const [favorites, setFavorites] = React.useState([]);\n  const [searchValue, setSearchValue] = React.useState('');\n  const [cartOpened, setCartOpened] = React.useState(false);\n  const [isLoading, setIsLoading] = React.useState(false);\n\n  React.useEffect(() => {\n    async function fetchData() {\n      try {\n        const [cartResponse, favoritesResponse, itemsResponse] =\n          await Promise.all([\n            axios.get('https://613a4e511fcce10017e78e42.mockapi.io/cart'),\n            axios.get('https://613a4e511fcce10017e78e42.mockapi.io/favorites'),\n            axios.get('https://613a4e511fcce10017e78e42.mockapi.io/items'),\n          ]);\n\n        setIsLoading(false);\n        setCartItems(cartResponse.data);\n        setFavorites(favoritesResponse.data);\n        setItems(itemsResponse.data);\n      } catch (error) {\n        alert('Ошибка при запросе данных');\n      }\n    }\n\n    fetchData();\n  }, []);\n\n  const onAddToCart = async (obj) => {\n    try {\n      // если в cartItems есть хотя бы один айтем имеет такой же айди, как у obj.id\n      // который был при нажатии на кнопку +\n      const findItem = cartItems.find(\n        (item) => Number(item.parentId) === Number(obj.id)\n      );\n      if (findItem) {\n        // если все так, то замени стейт, отфильтруй предыдущий объект, проверь что\n        // если хотя бы в одном объекте моего стейта есть обj id, то его исключи из этого массива\n        setCartItems((prev) =>\n          prev.filter((item) => Number(item.parentId) !== Number(obj.id))\n        );\n        await axios.delete(\n          `https://613a4e511fcce10017e78e42.mockapi.io/cart/${findItem.id}`\n        );\n      } else {\n        setCartItems((prev) => [...prev, obj]);\n        const { data } = await axios.post(\n          'https://613a4e511fcce10017e78e42.mockapi.io/cart',\n          obj\n        );\n        setCartItems((prev) =>\n          prev.map((item) => {\n            if (item.parentId === data.parentId) {\n              return {\n                ...item,\n                id: data.id,\n              };\n            }\n            return item;\n          })\n        );\n      }\n    } catch (error) {\n      alert('Ошибка при добавлении в корзину');\n      console.error(error);\n    }\n  };\n\n  const onRemoveItem = (id) => {\n    try {\n      axios.delete(`https://613a4e511fcce10017e78e42.mockapi.io/cart/${id}`);\n      setCartItems((prev) =>\n        prev.filter((item) => Number(item.id) !== Number(id))\n      );\n    } catch (error) {\n      alert('Ошибка при удалении из корзины');\n      console.error(error);\n    }\n  };\n\n  const onAddToFavorite = async (obj) => {\n    try {\n      if (favorites.find((favObj) => Number(favObj.id) === Number(obj.id))) {\n        axios.delete(\n          `https://613a4e511fcce10017e78e42.mockapi.io/favorites/${obj.id}`\n        );\n        setFavorites((prev) =>\n          prev.filter((item) => Number(item.id) !== Number(obj.id))\n        );\n      } else {\n        const { data } = await axios.post(\n          'https://613a4e511fcce10017e78e42.mockapi.io/favorites',\n          obj\n        );\n        setFavorites((prev) => [...prev, data]);\n      }\n    } catch (error) {\n      alert('Не удалось добавить в фавориты');\n      console.error(error);\n    }\n  };\n\n  const onChangeSearchInput = (event) => {\n    setSearchValue(event.target.value);\n  };\n\n  const isItemAdded = (id) => {\n    return cartItems.some((obj) => Number(obj.parentId) === Number(id));\n  };\n\n  return (\n    <AppContext.Provider\n      value={{\n        items,\n        cartItems,\n        favorites,\n        isItemAdded,\n        onAddToFavorite,\n        onAddToCart,\n        setCartOpened,\n        setCartItems,\n      }}\n    >\n      <div className=\"wrapper\">\n        <Drawer\n          items={cartItems}\n          onClose={() => setCartOpened(false)}\n          onRemove={onRemoveItem}\n          opened={cartOpened}\n        />\n        <Header onClickCart={() => setCartOpened(true)} />\n        <Route path=\"\" exact>\n          <Home\n            items={items}\n            cartItems={cartItems}\n            searchValue={searchValue}\n            setSearchValue={setSearchValue}\n            onChangeSearchInput={onChangeSearchInput}\n            onAddToFavorite={onAddToFavorite}\n            onAddToCart={onAddToCart}\n            isLoading={isLoading}\n          />\n        </Route>\n        <Route path=\"favorites\" exact>\n          <Favorites onAddToFavorite={onAddToFavorite} />\n        </Route>\n        <Route path=\"orders\" exact>\n          <Orders />\n        </Route>\n      </div>\n    </AppContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport 'macro-css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}